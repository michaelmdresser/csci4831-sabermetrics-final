<!DOCTYPE html>

<!--
  This is some of the worst code I think I have ever written in my life. But it works and looks decent.
-->

<html>
<head>
<title>CSCI 4831: Sabermetrics Final</title>
</head>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>

<h1>EFP: Excitement Factor for Pitching</h1>
<h5>Data from 2018</h5>
<h3>Michael Dresser and Mark Wilmes</h3>

<img src="efp.svg">
<br>
<p>PCA5 is a custom stat that is the number of plate appearances in which the pitch count went above 5.</p> 

<div id="dataList" style="width:800px">
<br>
<div id="searchSection" style="width:350px; float: left">
<input type="text" id="playerInput" onkeyup="myFunction(playerInput, myUL)" placeholder="Search for names..">

<ul id="myUL">
  <!-- <li><b>Name: EFB</b></li> -->
</ul>

</div>
</div>

<script>
function swap(json){
  var ret = {};
  for(var key in json){
    ret[json[key]] = key;
  }
  return ret;
}

function round(value, decimals) {
  return Number(Math.round(value+'e'+decimals)+'e-'+decimals);
}


function sortList(ul){
    var new_ul = ul.cloneNode(false);

    // Add all lis to an array
    var lis = [];
    for(var i = ul.childNodes.length; i--;){
        if(ul.childNodes[i].nodeName === 'LI')
            lis.push(ul.childNodes[i]);
    }

    // Sort the lis in descending order
    lis.sort(function(a, b){
       return parseInt(b.childNodes[0].data.split(":")[1].substring(1,), 10) - 
              parseInt(a.childNodes[0].data.split(":")[1].substring(1,), 10);
    });

    // Add them into the ul in order
    for(var i = 0; i < lis.length; i++)
        new_ul.appendChild(lis[i]);
    ul.parentNode.replaceChild(new_ul, ul);
}



var efp = {"EFP":{"112526":23.9210660552,"279571":24.9200126952,"282332":24.6003920233,"407822":24.647618513,"407845":25.6703545609,"424144":25.2238423371,"425492":26.3693391421,"425794":22.8770889076,"425844":24.3201952125,"429719":25.6195574801,"429722":23.6931723519,"430641":24.3167931319,"430935":24.8981947848,"433586":null,"433587":23.8640512843,"433589":25.183956857,"434378":26.1062713346,"434538":24.721586031,"434628":24.8428005116,"434671":24.7232795452,"435043":23.4834269034,"435221":24.7800662225,"444468":26.7786549045,"445197":24.5238671096,"445213":26.4413433723,"445276":27.1026688029,"445926":26.1486262964,"446099":26.6817135295,"446372":25.5219899393,"446399":23.5850228192,"446899":23.1955166314,"448178":24.884187631,"448179":23.6231845848,"448281":27.5669622171,"448306":24.1433965321,"448609":25.1312365669,"448802":24.0312023088,"448855":25.7660165747,"450203":25.4689852003,"450212":24.0813432162,"450306":23.1598861689,"450729":24.1220433673,"451584":25.8587495097,"451596":24.7035498392,"451661":26.3034561215,"452657":24.7080666459,"453172":26.3043464102,"453178":24.9003459268,"453192":25.2277975653,"453214":21.0621869331,"453265":25.6556910676,"453281":23.2555412343,"453284":25.0164630706,"453286":25.8590576722,"453329":24.2767195357,"453343":24.9715263977,"453344":27.7019115112,"453385":24.0707660774,"453562":25.540306333,"455119":26.4251760956,"456034":25.534536577,"456501":24.0611433479,"456696":25.747698755,"456701":25.2338628999,"456713":25.7026995574,"457915":25.2225142273,"457918":25.7195119266,"458006":25.3533786222,"458584":23.9136710194,"458677":26.4778480644,"458681":25.7042888559,"458690":24.812851793,"458708":23.1895357439,"458924":25.9389689832,"459429":26.1997794452,"460283":23.4010491397,"461325":24.1189073343,"461829":23.780360202,"461833":24.4176353152,"461872":25.3099520653,"462136":22.9489445116,"462382":25.1877906151,"465657":25.5230965809,"467008":26.0334941124,"467100":25.3320827678,"468504":23.7830983793,"471911":25.5716521738,"472610":26.2689928707,"473879":25.9902544299,"474463":24.2749631655,"475054":25.0053490114,"475115":24.6349378351,"475857":25.8694457692,"476451":23.8928962793,"476454":26.4195967399,"476589":24.881899721,"476594":26.28704046,"477132":24.9956608335,"477569":25.2997703573,"488748":26.2158562878,"488768":24.448629219,"488786":24.7879271477,"488846":23.9830544025,"488984":26.9566109899,"489119":23.9214094664,"489265":22.7648727489,"489334":26.2529730356,"489446":26.360528379,"491646":25.1655928681,"493200":24.9724669059,"493247":23.4827029878,"493603":25.492419654,"500779":24.8696477991,"501593":23.8098460602,"501625":25.6125338965,"501789":25.6596229634,"501817":26.0016000002,"501822":25.4435276587,"501925":24.5072156085,"501957":22.9585530017,"501985":25.2585412364,"502004":24.2726019602,"502026":26.0555506625,"502032":26.43565047,"502042":25.6632606614,"502043":25.6471922014,"502083":26.8402469583,"502085":25.3977711258,"502154":26.4974924677,"502171":24.5058298372,"502188":24.5653204615,"502190":23.7995792891,"502202":24.5986127428,"502212":23.8690992477,"502239":24.8157634881,"502327":24.3203083784,"502522":26.4275727835,"502593":26.5278303998,"502624":24.4520728096,"502706":24.5601959254,"502748":25.1566969344,"503285":24.245055319,"503449":25.112785175,"504379":26.3103151255,"506433":25.4238947792,"516969":26.4035304326,"517008":26.4981111531,"518397":26.4657423728,"518452":24.3241838886,"518489":27.0997034415,"518516":24.2280517798,"518553":25.3391970912,"518566":26.1098342246,"518617":25.8173748929,"518633":24.9757566259,"518693":25.7062152266,"518715":24.882119276,"518748":24.5972769361,"518774":25.929222449,"518813":24.7858413121,"518858":26.6711813535,"518875":25.1752380289,"518886":26.7144217742,"519008":24.9369945931,"519043":24.7112364778,"519096":25.8176525572,"519141":22.5917006069,"519144":24.4743107151,"519151":25.9977744571,"519166":26.3713721935,"519242":25.4320280167,"519293":24.8376280731,"519301":25.7482414601,"519326":25.6251469427,"519443":24.6124115394,"519455":24.8901241863,"520980":26.8959292411,"521230":26.3750048916,"521655":25.4243179855,"523260":26.3250381785,"525768":24.8650786999,"527048":24.7094090437,"527054":24.2953000538,"527055":26.4461810884,"532077":26.6491365223,"533167":24.7532434864,"541640":24.2201558621,"541652":25.8949330247,"542881":24.9072968932,"542882":24.961471054,"542947":null,"542960":25.2233664017,"543001":23.6196426736,"543022":24.7778725178,"543031":24.5066500823,"543037":26.4178267795,"543045":26.4927492026,"543056":23.9356648193,"543101":26.050107437,"543118":25.0613271096,"543135":26.5772174352,"543169":25.5331809282,"543208":24.2404487026,"543219":22.9043823489,"543243":25.0476362503,"543272":24.3711161346,"543278":23.744401465,"543294":23.6549887522,"543339":26.1753971645,"543359":24.9237549411,"543391":24.6569370406,"543475":25.7664131865,"543483":26.1640118351,"543506":24.7043568524,"543507":26.2611555136,"543521":24.8537158238,"543548":23.5403580243,"543557":24.4776777183,"543606":24.4957617532,"543699":24.5702899553,"543734":24.6681336382,"543766":25.5471459198,"543883":25.4928808244,"543935":25.7472270462,"544727":26.6901926633,"544928":23.6620055321,"544931":26.0206179355,"545333":24.9517131185,"547179":25.8865375204,"547749":23.7109319915,"547888":24.5425294218,"547943":24.5658638536,"547973":27.8863782061,"548389":24.8355575639,"552640":24.9324469216,"553878":26.8378442033,"554340":25.5905211647,"554430":26.864034896,"570240":24.937341552,"570632":26.4499432539,"570663":26.4937862757,"570666":24.7371991762,"571035":24.0274239392,"571476":25.5161916579,"571510":23.8112446042,"571561":26.870487007,"571578":24.5183284728,"571656":25.4136321933,"571666":24.0099240915,"571670":26.2915484548,"571704":26.3248340519,"571710":26.8863112067,"571760":24.6079994442,"571800":23.6883786899,"571863":24.9026015549,"571901":25.0135919377,"571927":25.5137990398,"571945":25.5183799226,"571946":25.1055277539,"571951":25.0706266652,"572020":26.266399869,"572021":26.8720216038,"572044":25.4916206181,"572070":25.7430855378,"572140":24.1845334183,"572143":24.8914239406,"572193":26.5417928814,"572362":24.7673029462,"572403":25.5187980462,"572750":25.4965238501,"572888":25.0357057352,"572955":24.8856674198,"572971":24.2254874473,"573064":24.2554173481,"573109":23.9645220883,"573124":25.280535783,"573185":24.5042462957,"573186":24.8728383534,"573668":26.8350421806,"584171":25.2615449824,"591693":25.0461531582,"592094":25.1822125287,"592102":25.5557045804,"592130":24.5793146118,"592135":25.1495483019,"592145":25.3086033183,"592169":25.5497849287,"592222":22.3412175652,"592229":25.5878391971,"592314":26.1890785447,"592332":25.2606853108,"592340":24.899053799,"592351":25.8035118266,"592390":26.1750837544,"592426":25.4070927981,"592454":26.2015334794,"592468":24.8338186827,"592473":null,"592499":24.527007585,"592547":24.2953703041,"592644":24.3176095707,"592662":25.1714810683,"592665":25.4451763629,"592705":25.3682599676,"592716":25.1955696461,"592717":25.5156062237,"592741":25.1727490883,"592761":24.7301116394,"592773":27.0247611494,"592779":24.6548817342,"592789":27.0757670187,"592791":26.2024768823,"592804":24.2382021191,"592811":23.6078330337,"592815":25.9925507699,"592826":25.7050382194,"592865":26.2238994199,"592866":25.3867856705,"593140":26.1831107058,"593144":26.2812192562,"593334":25.0084712511,"593372":24.9527841724,"593423":26.1731444085,"593576":25.6849665045,"593833":25.916042498,"593958":25.721449344,"593974":25.449656967,"594027":27.4408693098,"594577":26.3425273698,"594798":27.3853397328,"594835":24.2666963804,"594840":25.4845916389,"594902":23.952091164,"594965":25.8324851047,"595014":27.5511033091,"595465":25.9432902273,"595918":24.3247735019,"596001":24.4865929524,"596043":24.8970148019,"596057":24.0397708601,"596071":22.9154494839,"596074":24.7239284497,"596133":25.214945528,"596271":24.1284961743,"596295":25.095614424,"596720":26.141750633,"598264":26.31172144,"598271":23.140476487,"598287":23.9306320083,"599683":24.6521079845,"600917":25.2920878885,"600968":25.3489018857,"600986":26.7429301913,"601713":25.6393945903,"605121":25.7220993017,"605135":24.807759023,"605143":26.7409613537,"605151":26.9320527497,"605154":25.7916026388,"605164":24.225626891,"605177":null,"605182":25.2437626865,"605195":26.4526159683,"605200":24.2253228831,"605218":26.2972225649,"605232":23.898116822,"605240":24.7284204415,"605242":26.3486601706,"605254":25.2091189482,"605255":25.0179533527,"605276":24.1046361575,"605280":25.1716053894,"605301":25.7951501051,"605309":26.6848556552,"605347":25.1253595006,"605388":24.358008623,"605397":25.6636536649,"605400":25.0687114452,"605441":26.3185124788,"605446":24.8504150766,"605483":26.2468046076,"605488":24.9668748646,"605498":24.6454514163,"605538":24.5132178859,"605540":26.6618563475,"605541":25.4666187948,"606131":25.012767949,"606162":25.219055723,"606167":25.0409912341,"606273":24.8381883854,"606424":25.0873135966,"606478":24.6639230673,"606625":25.9040622382,"606930":26.5993503093,"606944":25.2395210316,"606965":24.8088092833,"607074":25.2284339035,"607188":24.4772529882,"607192":27.1201364587,"607200":25.2804623081,"607215":25.1046940497,"607219":25.8027160973,"607229":26.0338917062,"607231":24.8084619837,"607237":26.4321262836,"607352":25.4045963328,"607374":23.7782999696,"607457":24.9020180805,"607473":25.0131864458,"607481":25.9081717417,"607536":25.4557476316,"607625":25.2283088923,"607968":26.3842464587,"608328":23.8259771497,"608331":24.4955170557,"608334":24.8009711475,"608337":24.7838552418,"608349":26.7240830811,"608371":24.2331346862,"608379":25.3667058728,"608566":25.3895318673,"608601":25.1593677079,"608638":26.1394600241,"608648":25.334860106,"608652":24.9884898808,"608665":25.4505444833,"608678":26.4942126945,"608716":26.6382994043,"608717":24.6619799099,"608718":24.2290361619,"611093":25.6274598471,"612434":25.93454824,"612672":24.5976006675,"620454":26.144306245,"621056":25.0012102333,"621107":25.9281419416,"621111":26.6555240575,
"621112":24.5175192363,"621121":25.1797502088,"621141":24.049878977,"621199":24.5213421533,"621219":24.7062093294,"621237":27.5545027698,"621242":27.8765682321,"621244":25.3637439734,"621261":25.0842822595,"621289":26.0822718683,"621295":25.9315745329,"621345":26.9079190864,"621366":24.9370172839,"621381":25.6829671457,"621385":25.362240374,"621389":23.4919886553,"621397":23.4516120766,"622072":24.5999759257,"622097":24.6611846133,"622098":25.9709680305,"622161":24.4770628214,"622259":27.1631255628,"622382":24.0829786045,"622446":25.9059995861,"622491":25.7617732377,"622505":26.4634533673,"622554":27.7606397312,"622608":25.5412112032,"622663":26.6001486964,"622694":24.5451647783,"622766":25.6913167873,"622772":26.8984332512,"622795":24.5022839692,"622864":25.985053221,"623149":24.7017866071,"623184":26.7911859261,"623352":27.3008586313,"623381":23.7369832316,"623402":25.0149451838,"623430":24.6370345378,"623451":25.179294604,"624427":23.7531742529,"625643":25.7119799641,"627894":25.1894656932,"628317":24.7502478728,"628318":21.7864970911,"628333":24.2401855934,"628452":26.0479856632,"630023":26.1452961758,"640455":24.9664224214,"640464":25.5073841826,"641154":25.4545884505,"641341":26.3569765975,"641427":25.1437800879,"641438":25.8806174979,"641571":24.7682654144,"641627":25.604949648,"641712":null,"641729":26.9324997968,"641745":25.9373313576,"641771":25.9010696506,"641778":24.5320802061,"641793":24.7929743887,"641816":25.2698882117,"641835":26.1713799109,"641838":25.933258702,"641871":26.3503445659,"641941":26.3563681612,"642003":25.3603586858,"642008":26.4560949501,"642098":25.5109655036,"642152":27.3158195622,"642231":25.0661514152,"642232":24.1331990909,"642528":25.7327669584,"642545":24.2353268059,"642547":25.5535355222,"642558":24.9706964283,"642571":23.6511106784,"643230":25.6636211639,"643256":24.5653542469,"643316":25.3391614096,"643327":23.8069368716,"643338":27.6042348295,"643354":22.9710824978,"643410":24.4415612363,"643466":24.9378987519,"643493":24.74518504,"643617":24.9059706668,"643778":24.470078005,"644364":25.5008820855,"645261":25.6108123099,"647336":25.0978288598,"650828":26.247566621,"650895":26.7618925547,"656186":25.8392711317,"656222":24.3950285244,"656257":23.9822139754,"656354":25.4652796764,"656427":25.5147138269,"656547":25.5862485964,"656738":24.2740530426,"656756":23.9311875126,"656794":24.8333392814,"656798":24.5512806794,"656887":25.6049944549,"656945":26.3752030512,"657053":24.5638889479,"657205":25.0068127334,"657571":25.62721568,"657610":23.6167102358,"657612":25.7372488899,"657624":26.760185903,"660271":25.6182791397,"660853":25.3297942652,"663855":27.9431280331,"664028":24.7293341668,"664192":24.6213756073,"664208":24.7775134895,"664285":24.5550031339,"664682":24.4909925772,"669203":26.7045773474,"669456":25.4096265838,"670950":24.7303531298,"673633":25.2856573335},"name_last":{"112526":"colon","279571":"belisle","282332":"sabathia","407822":"de la rosa","407845":"rodney","424144":"perez","425492":"madson","425794":"wainwright","425844":"greinke","429719":"jackson","429722":"santana","430641":"boyer","430935":"hamels","433586":"casilla","433587":"hernandez","433589":"petit","434378":"verlander","434538":"liriano","434628":"hammel","434671":"sanchez","435043":"duke","435221":"mccarthy","444468":"rondon","445197":"dunn","445213":"kintzler","445276":"jansen","445926":"chavez","446099":"axford","446372":"kluber","446399":"cecil","446899":"ziegler","448178":"jepsen","448179":"hill","448281":"doolittle","448306":"shields","448609":"sipp","448802":"garcia","448855":"guerra","450203":"morton","450212":"neshek","450306":"vargas","450729":"fister","451584":"davis","451596":"gallardo","451661":"fields","452657":"lester","453172":"hughes","453178":"kennedy","453192":"miller","453214":"wright","453265":"watson","453281":"leblanc","453284":"parker","453286":"scherzer","453329":"buchholz","453343":"melancon","453344":"morrow","453385":"richard","453562":"arrieta","455119":"martin","456034":"price","456501":"cueto","456696":"hernandez","456701":"bailey","456713":"bush","457915":"guerra","457918":"happ","458006":"albers","458584":"cedeno","458677":"wilson","458681":"lynn","458690":"volstad","458708":"tomlin","458924":"venters","459429":"mcgee","460283":"blevins","461325":"clippard","461829":"gonzalez","461833":"hughes","461872":"swarzak","462136":"estrada","462382":"johnson","465657":"soria","467008":"strop","467100":"nova","468504":"chacin","471911":"carrasco","472610":"garcia","473879":"dyson","474463":"anderson","475054":"roe","475115":"ross","475857":"cook","476451":"hellickson","476454":"betances","476589":"warren","476594":"stock","477132":"kershaw","477569":"salas","488748":"buchter","488768":"cashner","488786":"coleman","488846":"duensing","488984":"hunter","489119":"miley","489265":"romo","489334":"stammen","489446":"yates","491646":"gomez","493200":"oh","493247":"moylan","493603":"ottavino","500779":"quintana","501593":"avilan","501625":"alvarez","501789":"harris","501817":"barnette","501822":"hatcher","501925":"smith","501957":"tillman","501985":"minor","502004":"kontos","502026":"jeffress","502032":"norris","502042":"archer","502043":"gibson","502083":"mcallister","502085":"robertson","502154":"britton","502171":"cobb","502188":"samardzija","502190":"leake","502202":"boxberger","502212":"bibens-dirkx","502239":"cahill","502327":"santiago","502522":"miller","502593":"petricka","502624":"anderson","502706":"holland","502748":"peacock","503285":"o\'day","503449":"peralta","504379":"nicasio","506433":"darvish","516969":"herrera","517008":"colome","518397":"alexander","518452":"bettis","518489":"brasier","518516":"bumgarner","518553":"cishek","518566":"cole","518617":"diekman","518633":"duffy","518693":"freeman","518715":"gearrin","518748":"grimm","518774":"harvey","518813":"holland","518858":"jones","518875":"kelley","518886":"kimbrel","519008":"mcfarland","519043":"moore","519096":"otero","519141":"pomeranz","519144":"porcello","519151":"pressly","519166":"ramirez","519242":"sale","519293":"smith","519301":"solis","519326":"strickland","519443":"workman","519455":"zimmermann","520980":"baez","521230":"hendriks","521655":"font","523260":"kelly","525768":"collins","527048":"perez","527054":"teheran","527055":"vizcaino","532077":"osuna","533167":"shoemaker","541640":"ramirez","541652":"rondon","542881":"anderson","542882":"andriese","542947":"bleier","542960":"brach","543001":"carpenter","543022":"chatwood","543031":"cloyd","543037":"cole","543045":"conley","543056":"coulombe","543101":"desclafani","543118":"drake","543135":"eovaldi","543169":"flynn","543208":"gaviglio","543219":"gilmartin","543243":"gray","543272":"hand","543278":"hardy","543294":"hendricks","543339":"hudson","543359":"jennings","543391":"kelly","543475":"lyles","543483":"magill","543506":"maurer","543507":"may","543521":"mchugh","543548":"milone","543557":"montgomery","543606":"odorizzi","543699":"roark","543734":"rusin","543766":"shaw","543883":"vincent","543935":"wilson","544727":"familia","544928":"lyons","544931":"strasburg","545333":"bauer","547179":"lorenzen","547749":"tazawa","547888":"tanaka","547943":"ryu","547973":"chapman","548389":"stripling","552640":"kittredge","553878":"vazquez","554340":"garcia","554430":"wheeler","570240":"pena","570632":"urena","570663":"robles","570666":"cessa","571035":"cuevas","571476":"beck","571510":"boyd","571561":"cingrani","571578":"corbin","571656":"farmer","571666":"fiers","571670":"floro","571704":"giles","571710":"givens","571760":"heaney","571800":"hutchison","571863":"koch","571901":"loup","571927":"matz","571945":"mikolas","571946":"miller","571951":"mitchell","572020":"paxton","572021":"pazos","572044":"pounders","572070":"richards","572140":"skaggs","572143":"smith","572193":"tepera","572362":"erlin","572403":"verhagen","572750":"butler","572888":"greene","572955":"johnson","572971":"keuchel","573064":"nuno","573109":"ramos","573124":"rogers","573185":"straily","573186":"stroman","573668":"minaya","584171":"velazquez","591693":"ramos","592094":"adam","592102":"allen","592130":"barnes","592135":"bedrosian","592145":"biddle","592169":"brice","592222":"claudio","592229":"covey","592314":"foltynewicz","592332":"gausman","592340":"goeddel","592351":"gray","592390":"hembree","592426":"jackson","592454":"kahnle","592468":"kingham","592473":"kolarek","592499":"lewicki","592547":"mcguire","592644":"plutko","592662":"ray","592665":"reed","592705":"rumbelow","592716":"sampson","592717":"sanchez","592741":"shreve","592761":"smith","592773":"stanek","592779":"stewart","592789":"syndergaard","592791":"taillon","592804":"thornburg","592811":"triggs","592815":"tuivailala","592826":"velasquez","592865":"williams","592866":"williams","593140":"feliz","593144":"rodriguez","593334":"german","593372":"martinez","593423":"montas","593576":"neris","593833":"suero","593958":"rodriguez","593974":"peralta","594027":"guerrero","594577":"mayers","594798":"degrom","594835":"gonzales","594840":"grace","594902":"lively","594965":"ponce de leon","595014":"treinen","595465":"winkler","595918":"cole","596001":"junis","596043":"mengden","596057":"norris","596071":"peters","596074":"poyner","596133":"weaver","596271":"lawrence","596295":"gomber","596720":"neverauskas","598264":"barnes","598271":"johnson","598287":"ramirez","599683":"saupold","600917":"leclerc","600968":"rosario","600986":"vieira","601713":"pivetta","605121":"anderson","605135":"bassitt","605143":"black","605151":"bradley","605154":"brebbia","605164":"bundy","605177":"chafin","605182":"clevinger","605195":"crick","605200":"davies","605218":"edwards","605232":"finnegan","605240":"fry","605242":"fulmer","605254":"gossett","605255":"graves","605276":"hess","605280":"holmes","605301":"jerez","605309":"kela","605347":"lopez","605388":"morgan","605397":"musgrove","605400":"nola","605441":"rios","605446":"rodriguez","605483":"snell","605488":"springs","605498":"suarez","605538":"wisler","605540":"woodruff","605541":"wright",
"606131":"perdomo","606162":"ramirez","606167":"mejia","606273":"elias","606424":"garcia","606478":"araujo","606625":"moronta","606930":"barnes","606944":"carroll","606965":"devenski","607074":"rodon","607188":"faria","607192":"glasnow","607200":"fedde","607215":"skoglund","607219":"romano","607229":"gsellman","607231":"gant","607237":"garrett","607352":"biagini","607374":"tropeano","607457":"barraclough","607473":"bradford","607481":"bummer","607536":"freeland","607625":"lugo","607968":"rucinski","608328":"de jong","608331":"fried","608334":"fulmer","608337":"giolito","608349":"knebel","608371":"sims","608379":"wacha","608566":"marquez","608601":"santos","608638":"chargois","608648":"duffey","608652":"farrell","608665":"graveman","608678":"leone","608716":"steckenrider","608717":"stratton","608718":"suter","611093":"bracho","612434":"castro","612672":"chen","620454":"castillo","621056":"wood","621107":"eflin","621111":"buehler","621112":"blackburn","621121":"mccullers","621141":"lockett","621199":"bowman","621219":"mills","621237":"alvarado","621242":"diaz","621244":"berrios","621261":"oswalt","621289":"schultz","621295":"wittgren","621345":"minter","621366":"borucki","621381":"strahm","621385":"stumpf","621389":"blach","621397":"olson","622072":"wood","622097":"thompson","622098":"smith","622161":"paredes","622259":"wingenter","622382":"moya","622446":"rodriguez","622491":"castillo","622505":"alcantara","622554":"dominguez","622608":"senzatela","622663":"severino","622694":"hernandez","622766":"diaz","622772":"cordero","622795":"mendez","622864":"romero","623149":"sewald","623184":"oberg","623352":"hader","623381":"pannone","623402":"peterson","623430":"dull","623451":"stephens","624427":"gonsalves","625643":"lopez","627894":"gohara","628317":"maeda","628318":"makita","628333":"despaigne","628452":"iglesias","630023":"chirinos","640455":"manaea","640464":"stewart","641154":"lopez","641341":"bashlor","641427":"busenitz","641438":"carle","641571":"fillmyer","641627":"gott","641712":"hudson","641729":"jimenez","641745":"keller","641771":"kuhl","641778":"lauer","641793":"littell","641816":"mahle","641835":"mayza","641838":"mccarthy","641871":"middleton","641941":"pagan","642003":"reed","642008":"rhame","642098":"sparkman","642152":"trivino","642231":"yacabonis","642232":"yarbrough","642528":"loaisiga","642545":"barria","642547":"peralta","642558":"jurado","642571":"gonzalez","643230":"brault","643256":"cimber","643316":"fry","643327":"godley","643338":"green","643354":"hart","643410":"leiter","643466":"musgrave","643493":"pruitt","643617":"reininger","643778":"webb","644364":"arano","645261":"alcantara","647336":"soroka","650828":"santana","650895":"castillo","656186":"altavilla","656222":"beeks","656257":"brigham","656354":"davis","656427":"flaherty","656547":"holder","656738":"meyer","656756":"montgomery","656794":"newcomb","656798":"nix","656887":"reid-foley","656945":"scott","657053":"toussaint","657205":"curtis","657571":"ferguson","657610":"hildenberger","657612":"hill","657624":"james","660271":"ohtani","660853":"de los santos","663855":"hicks","664028":"kennedy","664192":"lucchesi","664208":"maton","664285":"valdez","664682":"meisinger","669203":"burnes","669456":"bieber","670950":"richards","673633":"hirano"},"name_first":{"112526":"bartolo","279571":"matt","282332":"cc","407822":"jorge","407845":"fernando","424144":"oliver","425492":"ryan","425794":"adam","425844":"zack","429719":"edwin","429722":"ervin","430641":"blaine","430935":"cole","433586":"santiago","433587":"felix","433589":"yusmeiro","434378":"justin","434538":"francisco","434628":"jason","434671":"anibal","435043":"zach","435221":"brandon","444468":"hector","445197":"mike","445213":"brandon","445276":"kenley","445926":"jesse","446099":"john","446372":"corey","446399":"brett","446899":"brad","448178":"kevin","448179":"rich","448281":"sean","448306":"james","448609":"tony","448802":"jaime","448855":"junior","450203":"charlie","450212":"pat","450306":"jason","450729":"doug","451584":"wade","451596":"yovani","451661":"josh","452657":"jon","453172":"jared","453178":"ian","453192":"andrew","453214":"steven","453265":"tony","453281":"wade","453284":"blake","453286":"max","453329":"clay","453343":"mark","453344":"brandon","453385":"clayton","453562":"jake","455119":"chris","456034":"david","456501":"johnny","456696":"david","456701":"homer","456713":"matt","457915":"javy","457918":"j. a.","458006":"matt","458584":"xavier","458677":"justin","458681":"lance","458690":"chris","458708":"josh","458924":"jonny","459429":"jake","460283":"jerry","461325":"tyler","461829":"gio","461833":"phil","461872":"anthony","462136":"marco","462382":"jim","465657":"joakim","467008":"pedro","467100":"ivan","468504":"jhoulys","471911":"carlos","472610":"luis","473879":"sam","474463":"brett","475054":"chaz","475115":"tyson","475857":"ryan","476451":"jeremy","476454":"dellin","476589":"adam","476594":"robert","477132":"clayton","477569":"fernando","488748":"ryan","488768":"andrew","488786":"louis","488846":"brian","488984":"tommy","489119":"wade","489265":"sergio","489334":"craig","489446":"kirby","491646":"jeanmar","493200":"seunghwan","493247":"peter","493603":"adam","500779":"jose","501593":"luis","501625":"jose","501789":"will","501817":"tony","501822":"chris","501925":"joe","501957":"chris","501985":"mike","502004":"george","502026":"jeremy","502032":"bud","502042":"chris","502043":"kyle","502083":"zach","502085":"david","502154":"zack","502171":"alex","502188":"jeff","502190":"mike","502202":"brad","502212":"austin","502239":"trevor","502327":"hector","502522":"justin","502593":"jake","502624":"chase","502706":"derek","502748":"brad","503285":"darren","503449":"wily","504379":"juan","506433":"yu","516969":"kelvin","517008":"alex","518397":"scott","518452":"chad","518489":"ryan","518516":"madison","518553":"steve","518566":"taylor","518617":"jake","518633":"danny","518693":"sam","518715":"cory","518748":"justin","518774":"matt","518813":"greg","518858":"nate","518875":"shawn","518886":"craig","519008":"t. j.","519043":"matt","519096":"dan","519141":"drew","519144":"rick","519151":"ryan","519166":"neil","519242":"chris","519293":"will","519301":"sammy","519326":"hunter","519443":"brandon","519455":"jordan","520980":"pedro","521230":"liam","521655":"wilmer","523260":"joe","525768":"tim","527048":"martin","527054":"julio","527055":"arodys","532077":"roberto","533167":"matt","541640":"erasmo","541652":"bruce","542881":"tyler","542882":"matt","542947":"richard","542960":"brad","543001":"ryan","543022":"tyler","543031":"tyler","543037":"gerrit","543045":"adam","543056":"danny","543101":"anthony","543118":"oliver","543135":"nathan","543169":"brian","543208":"sam","543219":"sean","543243":"sonny","543272":"brad","543278":"blaine","543294":"kyle","543339":"daniel","543359":"dan","543391":"casey","543475":"jordan","543483":"matt","543506":"brandon","543507":"trevor","543521":"collin","543548":"tommy","543557":"mike","543606":"jake","543699":"tanner","543734":"chris","543766":"bryan","543883":"nick","543935":"alex","544727":"jeurys","544928":"tyler","544931":"stephen","545333":"trevor","547179":"michael","547749":"junichi","547888":"masahiro","547943":"hyun-jin","547973":"aroldis","548389":"ross","552640":"andrew","553878":"felipe","554340":"yimi","554430":"zach","570240":"felix","570632":"jose","570663":"hansel","570666":"luis","571035":"william","571476":"chris","571510":"matt","571561":"tony","571578":"patrick","571656":"buck","571666":"mike","571670":"dylan","571704":"ken","571710":"mychal","571760":"andrew","571800":"drew","571863":"matt","571901":"aaron","571927":"steven","571945":"miles","571946":"shelby","571951":"bryan","572020":"james","572021":"james","572044":"brooks","572070":"garrett","572140":"tyler","572143":"burch","572193":"ryan","572362":"robbie","572403":"drew","572750":"eddie","572888":"shane","572955":"pierce","572971":"dallas","573064":"vidal","573109":"aj","573124":"taylor","573185":"dan","573186":"marcus","573668":"juan","584171":"hector","591693":"edubray","592094":"jason","592102":"cody","592130":"danny","592135":"cam","592145":"jesse","592169":"austin","592222":"alex","592229":"dylan","592314":"mike","592332":"kevin","592340":"erik","592351":"jon","592390":"heath","592426":"luke","592454":"tommy","592468":"nick","592473":"adam","592499":"artie","592547":"deck","592644":"adam","592662":"robbie","592665":"addison","592705":"nick","592716":"adrian","592717":"aaron","592741":"chasen","592761":"caleb","592773":"ryne","592779":"brock","592789":"noah","592791":"jameson","592804":"tyler","592811":"andrew","592815":"sam","592826":"vince","592865":"taylor","592866":"trevor","593140":"michael","593144":"richard","593334":"domingo","593372":"carlos","593423":"frankie","593576":"hector","593833":"wander","593958":"eduardo","593974":"wandy","594027":"tayron","594577":"mike","594798":"jacob","594835":"marco","594840":"matt","594902":"ben","594965":"daniel","595014":"blake","595465":"dan","595918":"a. j.","596001":"jakob","596043":"daniel","596057":"daniel","596071":"dillon","596074":"bobby","596133":"luke","596271":"casey","596295":"austin","596720":"dovydas","598264":"matt","598271":"brian","598287":"noe","599683":"warwick","600917":"jose","600968":"randy","600986":"thyago","601713":"nick","605121":"justin","605135":"chris","605143":"ray","605151":"archie","605154":"john","605164":"dylan","605177":"andrew","605182":"mike","605195":"kyle","605200":"zach","605218":"carl","605232":"brandon","605240":"jace","605242":"michael","605254":"daniel","605255":"brett","605276":"david","605280":"clay","605301":"williams","605309":"keone","605347":"jorge","605388":"adam","605397":"joe","605400":"aaron","605441":"yacksel","605446":"dereck","605483":"blake","605488":"jeffrey","605498":"andrew","605538":"matt","605540":"brandon","605541":"mike","606131":"luis","606162":"yefry","606167":"adalberto","606273":"roenis","606424":"jarlin","606478":"pedro","606625":"reyes",
"606930":"jacob","606944":"cody","606965":"chris","607074":"carlos","607188":"jake","607192":"tyler","607200":"erick","607215":"eric","607219":"sal","607229":"robert","607231":"john","607237":"amir","607352":"joe","607374":"nick","607457":"kyle","607473":"chase","607481":"aaron","607536":"kyle","607625":"seth","607968":"drew","608328":"chase","608331":"max","608334":"carson","608337":"lucas","608349":"corey","608371":"lucas","608379":"michael","608566":"german","608601":"luis","608638":"j. t.","608648":"tyler","608652":"luke","608665":"kendall","608678":"dominic","608716":"drew","608717":"chris","608718":"brent","611093":"silvino","612434":"miguel","612672":"wei-yin","620454":"jose","621056":"hunter","621107":"zach","621111":"walker","621112":"paul","621121":"lance","621141":"walker","621199":"matthew","621219":"alec","621237":"jose","621242":"edwin","621244":"jose","621261":"corey","621289":"jaime","621295":"nick","621345":"a. j.","621366":"ryan","621381":"matt","621385":"daniel","621389":"ty","621397":"tyler","622072":"alex","622097":"jake","622098":"drew","622161":"eduardo","622259":"trey","622382":"gabriel","622446":"jefry","622491":"luis","622505":"victor","622554":"seranthony","622608":"antonio","622663":"luis","622694":"elieser","622766":"miguel","622772":"jimmy","622795":"yohander","622864":"fernando","623149":"paul","623184":"scott","623352":"josh","623381":"thomas","623402":"tim","623430":"ryan","623451":"jackson","624427":"stephen","625643":"reynaldo","627894":"luiz","628317":"kenta","628318":"kazuhisa","628333":"odrisamer","628452":"raisel","630023":"yonny","640455":"sean","640464":"kohl","641154":"pablo","641341":"tyler","641427":"alan","641438":"shane","641571":"heath","641627":"trevor","641712":"dakota","641729":"joe","641745":"brad","641771":"chad","641778":"eric","641793":"zack","641816":"tyler","641835":"tim","641838":"kevin","641871":"keynan","641941":"emilio","642003":"cody","642008":"jacob","642098":"glenn","642152":"lou","642231":"jimmy","642232":"ryan","642528":"jonathan","642545":"jaime","642547":"freddy","642558":"ariel","642571":"merandy","643230":"steven","643256":"adam","643316":"paul","643327":"zack","643338":"chad","643354":"donnie","643410":"mark","643466":"harrison","643493":"austin","643617":"zac","643778":"tyler","644364":"victor","645261":"sandy","647336":"mike","650828":"edgar","650895":"diego","656186":"dan","656222":"jalen","656257":"jeff","656354":"austin","656427":"jack","656547":"jonathan","656738":"ben","656756":"jordan","656794":"sean","656798":"jacob","656887":"sean","656945":"tanner","657053":"touki","657205":"zac","657571":"caleb","657610":"trevor","657612":"tim","657624":"josh","660271":"shohei","660853":"enyel","663855":"jordan","664028":"brett","664192":"joey","664208":"phil","664285":"framber","664682":"ryan","669203":"corbin","669456":"shane","670950":"trevor","673633":"yoshihisa"}}


for (var key in efp["EFP"]) {
  efp["EFP"][key] = round(efp["EFP"][key], 3)
}

var ul = document.getElementById("myUL");

for(var key in efp["name_last"]) {
  var li = document.createElement("li");
  li.appendChild(document.createTextNode(efp["name_first"][key] + " " + efp["name_last"][key] + ": " + efp["EFP"][key]))
  ul.appendChild(li)
}

sortList(ul)


function myFunction(input, list) {
    // Declare variables
    var filter, ul, li, a, i, txtValue;
    filter = input.value.toUpperCase();
    if (input.id == "playerInput") {highlight(filter)}
    //ul = document.getElementById(listId);
    ul = list
    li = ul.getElementsByTagName('li');
  
    // Loop through all list items, and hide those who don't match the search query
    for (i = 0; i < li.length; i++) {
      a = li[i].getElementsByTagName("a")[0];
      a = li[i].textContent
      txtValue = a
      //txtValue = a.textContent || a.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        li[i].style.display = "";
      } else {
        li[i].style.display = "none";
      }
    }
  }


var color = "steelblue";

var values = Object.keys(swap(efp["EFP"]))
values = values.map(x => parseFloat(x));

// A formatter for counts.
var formatCount = d3.format(",.0f");

var margin = {top: 20, right: 30, bottom: 30, left: 30},
    width = 960 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;

var max = d3.max(values);
var min = d3.min(values);
var x = d3.scale.linear()
      .domain([min, max])
      .range([0, width]);

// Generate a histogram using twenty uniformly-spaced bins.
var data = d3.layout.histogram()
    .bins(x.ticks(25))
    (values);

console.log(values)
console.log(data)
var yMax = d3.max(data, function(d){return d.length});
var yMin = d3.min(data, function(d){return d.length});
var colorScale = d3.scale.linear()
            .domain([yMin, yMax])
            .range([d3.rgb(color).brighter(), d3.rgb(color).darker()]);

var y = d3.scale.linear()
    .domain([0, yMax])
    .range([height, 0]);

var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom");

var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

svg.append("text")
  .attr("class", "x label")
  .attr("text-anchor", "end")
  .attr("font-size", "30px")
  .attr("x", width / 2 + 50)
  .attr("y", height + 30)
  .text("EFP")

var bar = svg.selectAll(".bar")
    .data(data)
  .enter().append("g")
    .attr("class", "bar")
    .attr("transform", function(d) { return "translate(" + x(d.x) + "," + y(d.y) + ")"; });

bar.append("rect")
    .attr("x", 1)
    .attr("width", (x(data[0].dx) - x(0)) - 1)
    .attr("height", function(d) { return height - y(d.y); })
    .attr("fill", function(d) { return colorScale(d.y) });

bar.append("text")
    .attr("dy", ".75em")
    .attr("y", -12)
    .attr("x", (x(data[0].dx) - x(0)) / 2)
    .attr("text-anchor", "middle")
    .text(function(d) { return formatCount(d.y); });

svg.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + height + ")")
    .call(xAxis);


function highlight(filter){
  var vals = [] // valid EFP for the selected names
  for (var key in efp["EFP"]) {
    var name = efp["name_first"][key] + " " + efp["name_last"][key]
    if (name.toUpperCase().indexOf(filter) > -1) {
      vals.push(efp["EFP"][key])
    }
  }

  if (vals.length > 10) {
    return colorScale(d.y)
  }

  svg.selectAll("rect").attr("fill", function(d) {
    for (var i = 0; i < vals.length; i++) {
      let efp = vals[i]
      if (efp >= d.x && efp <= d.x + d.dx) {
        return "red"
      }
    }
    return colorScale(d.y)
  })

}



var d = document.getElementById('dataList');
d.parentNode.appendChild(d);

</script>
<body>

</html
